
/*! adobe-profile - v1.1.1 - 09-21-2017, 11:56:31 PM

ADOBE CONFIDENTIAL
==================
Copyright 2017 Adobe Systems Incorporated
All Rights Reserved.

NOTICE: All information contained herein is, and remains
the property of Adobe Systems Incorporated and its suppliers,
if any. The intellectual and technical concepts contained
herein are proprietary to Adobe Systems Incorporated and its
suppliers and are protected by trade secret or copyright law.
Dissemination of this information or reproduction of this material
is strictly forbidden unless prior written permission is obtained
from Adobe Systems Incorporated.
*/

/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */

!function(){var e,t,r,n,i,a,o,s,l,c;e=function(){var e={},t="adobeProfile";return e.strings={id:t,debug:t+"Debug",ellipsis:"..."},e.events={data_ready:t+":DataReady",profile_ready:t+":ProfileReady",sign_out:t+":SignOut"},e.messages={config:"config",storage:"storage",no_config:"PE01",no_target:"PE02",request_error:"PE03 {0}",profile_data_missing:"PW01 {0}",request_data:"PL01 {0}",profile_data:"PL02",profile_labels:"PL03",build_profile:"PL04",locale:"PL05 {0}",custom_theme:"PL06 {0}",custom_class:"PL07 {0}",custom_behance:"PL08 {0}",format_name:"PL09 {0}",format_email:"PL10 {0}; {1}",build_events:"PL11"},e.endpoints={profile:'https://cc-collab.adobe.io/profile',locales:'//wwwimages2.adobe.com/services/globalnav.json',account:'//accounts.adobe.com',accountProfile:'//accounts.adobe.com/profile'},e.profile={requiredProperties:["id","first_name","last_name","email","avatar"],defaultAvatar:"https://a3.behance.net/img/profile/no-image-138.jpg"},e}(),t=function(){var e={};return e.isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},e.isFunction=function(e){return"function"==typeof e},e.formatString=function(e,t){if("string"==typeof e&&Array.isArray(t)&&t.length)return e.replace(/{(\d+)}/g,function(e,r){return"undefined"!=typeof t[r]?t[r]:e})},e.getPropertySafely=function(e,t){var r,n,i;if(e&&"object"==typeof e&&!Array.isArray(e)&&"string"==typeof t&&Object.keys(e).length&&t.length){for(t=t.split("."),n=t.length,i=e,r=0;r<n;r++){if(!i.hasOwnProperty(t[r]))return;i=i[t[r]]}return i}},e}(),r=function(e){var t={};return t.get=function(t){var r=new XMLHttpRequest;return r.open("GET",t.endpoint,!0),t.headers&&!e.isEmptyObject(t.headers)&&Object.keys(t.headers).forEach(function(e){r.setRequestHeader(e,t.headers[e])}),r.onload=function(){this.status>=200&&this.status<400?t.success&&e.isFunction(t.success)&&t.success(this.response):t.error&&e.isFunction(t.error)&&t.error(this.response)},r.onerror=function(){t.error&&e.isFunction(t.error)&&t.error(this.response)},r.send(),this},t}(t),n=function(e){var t={};return t.Events=function(){var t={};this.addEventListener=function(e,r){var n=t[e]||[];n.push(r),t[e]=n},this.dispatchEvent=function(r,n){var i,a,o=t[r];if(o)for(a=0,i=o.length;a<i;++a)e.isFunction(o[a])&&o[a].apply(null,[n,r])}},t.matches=function(e,t){var r,n,i;return e&&t?"function"!=typeof window.Element.prototype.matches?(r=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){n=(this.document||this.ownerDocument).querySelectorAll(e),i=n.length;do--i;while(i>=0&&n.item(i)!==this);return i>-1},r.apply(e,[t])):e.matches(t):null},t.closest=function(e,t){if(!e||!t)return null;if("function"!=typeof window.Element.prototype.closest){for(;e&&1===e.nodeType;){if(this.matches(e,t))return e;e=e.parentNode}return null}return e.closest(t)},t}(t),i=function(e,t){var r={},n=document.createElement("canvas");return r.getElementProperties=function(e,t){var r,n,i,a={};if(!e||!t)return null;for(t=Array.isArray(t)?t:[t],r=t.length,n=0;n<r;n++)i=t[n],"string"==typeof i&&(a[i]=window.getComputedStyle(e)[i]);return a},r.measure=function(t,r){var i;return t&&r?(i=n.getContext("2d"),i.font=e.formatString("{0} {1} {2}",[r["font-weight"],r["font-size"],r["font-family"]]),i.measureText(t.trim()).width):null},r.truncateEmail=function(r,n,i){var a=!1,o=!1;if(!r||!n||!i)return null;for(;this.measure(e.formatString("{0}@{1}",[r,n]),i)>parseFloat(i.width);)r.length>=n.length&&(r=e.formatString("{0}{1}",[r.slice(0,a?-4:-1),t.strings.ellipsis]),a=!0),r.length<=n.length&&(n=e.formatString("{0}{1}",[n.slice(0,o?-4:-1),t.strings.ellipsis]),o=!0);return e.formatString("{0}@{1}",[r,n])},r}(t,e),a=function(e,t){var r=function(e){this.debug=e};return r.prototype.message=function(){var e,r=[t.strings.debug+":"],n=arguments.length;for(e=0;e<n;e++)r.push(arguments[e]);return r.concat()},r.prototype.log=function(){this.debug&&window.console&&e.isFunction(window.console.log)&&window.console.log.apply(null,this.message.apply(null,arguments))},r.prototype.warn=function(){this.debug&&window.console&&e.isFunction(window.console.warn)&&window.console.warn.apply(null,this.message.apply(null,arguments))},r.prototype.error=function(){this.debug&&window.console&&e.isFunction(window.console.error)&&window.console.error.apply(null,this.message.apply(null,arguments))},r}(t,e),o=function(){var e={},t=["africa","at","au","be_en","be_fr","be_nl","bg","br","ca","ca_fr","ch_de","ch_fr","ch_it","cis_en","cis_ru","cn","cy_en","cz","de","dk","eeurope","ee","en","es","fi","fr","gr_en","hk_en","hk_zh","hr","hu","ie","il_en","il_he","in","it","jp","kr","la","lt","lu_de","lu_en","lu_fr","lv","mena_ar","mena_en","mena_fr","mt","mx","nl","no","nz","pl","pt","ro","rs","ru","se","sea","sg","si","sk","tr","tw","ua","uk"];return e.getLocales=function(){return t},e.isMatch=function(e){return!(!e||"string"!=typeof e)&&t.indexOf(e.toLowerCase())>-1},e.getDefault=function(){return"en"},e}(),function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):s=function(e){return"function"==typeof t?t(e):t}({})}(this,function(e){function t(e){return"function"==typeof e}function r(e){return g(e)?"array":typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function a(e,t){return m.call(e,t)}function o(e){return!a(v,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return y[e]})}function l(t,r){function i(){if(v&&!y)for(;m.length;)delete h[m.pop()];else m=[];v=!1,y=!1}function a(e){if("string"==typeof e&&(e=e.split(P,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(n(e[0])+"\\s*"),l=new RegExp("\\s*"+n(e[1])),d=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var s,l,d,p=[],h=[],m=[],v=!1,y=!1;a(r||e.tags);for(var S,E,L,x,M,z,V=new u(t);!V.eos();){if(S=V.pos,L=V.scanUntil(s))for(var C=0,q=L.length;C<q;++C)x=L.charAt(C),o(x)?m.push(h.length):y=!0,h.push(["text",x,S,S+1]),S+=1,"\n"===x&&i();if(!V.scan(s))break;if(v=!0,E=V.scan(k)||"name",V.scan(w),"="===E?(L=V.scanUntil(b),V.scan(b),V.scanUntil(l)):"{"===E?(L=V.scanUntil(d),V.scan(_),V.scanUntil(l),E="&"):L=V.scanUntil(l),!V.scan(l))throw new Error("Unclosed tag at "+V.pos);if(M=[E,L,S,V.pos],h.push(M),"#"===E||"^"===E)p.push(M);else if("/"===E){if(z=p.pop(),!z)throw new Error('Unopened section "'+L+'" at '+S);if(z[1]!==L)throw new Error('Unclosed section "'+z[1]+'" at '+S)}else"name"===E||"{"===E||"&"===E?y=!0:"="===E&&a(L)}if(z=p.pop())throw new Error('Unclosed section "'+z[1]+'" at '+V.pos);return f(c(h))}function c(e){for(var t,r,n=[],i=0,a=e.length;i<a;++i)t=e[i],t&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}function f(e){for(var t,r,n=[],i=n,a=[],o=0,s=e.length;o<s;++o)switch(t=e[o],t[0]){case"#":case"^":i.push(t),a.push(t),i=t[4]=[];break;case"/":r=a.pop(),r[5]=t[2],i=a.length>0?a[a.length-1][4]:n;break;default:i.push(t)}return n}function u(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var h=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===h.call(e)},m=RegExp.prototype.test,v=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,P=/\s+/,b=/\s*=/,_=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},u.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var r,n=this.cache;if(n.hasOwnProperty(e))r=n[e];else{for(var a,o,s=this,l=!1;s;){if(e.indexOf(".")>0)for(r=s.view,a=e.split("."),o=0;null!=r&&o<a.length;)o===a.length-1&&(l=i(r,a[o])),r=r[a[o++]];else r=s.view[e],l=i(s.view,e);if(l)break;s=s.parent}n[e]=r}return t(r)&&(r=r.call(this.view)),r},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var r=this.cache,n=r[e];return null==n&&(n=r[e]=l(e,t)),n},p.prototype.render=function(e,t,r){var n=this.parse(e),i=t instanceof d?t:new d(t);return this.renderTokens(n,i,r,e)},p.prototype.renderTokens=function(e,t,r,n){for(var i,a,o,s="",l=0,c=e.length;l<c;++l)o=void 0,i=e[l],a=i[0],"#"===a?o=this.renderSection(i,t,r,n):"^"===a?o=this.renderInverted(i,t,r,n):">"===a?o=this.renderPartial(i,t,r,n):"&"===a?o=this.unescapedValue(i,t):"name"===a?o=this.escapedValue(i,t):"text"===a&&(o=this.rawValue(i)),void 0!==o&&(s+=o);return s},p.prototype.renderSection=function(e,r,n,i){function a(e){return o.render(e,r,n)}var o=this,s="",l=r.lookup(e[1]);if(l){if(g(l))for(var c=0,f=l.length;c<f;++c)s+=this.renderTokens(e[4],r.push(l[c]),n,i);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],r.push(l),n,i);else if(t(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");l=l.call(r.view,i.slice(e[3],e[5]),a),null!=l&&(s+=l)}else s+=this.renderTokens(e[4],r,n,i);return s}},p.prototype.renderInverted=function(e,t,r,n){var i=t.lookup(e[1]);if(!i||g(i)&&0===i.length)return this.renderTokens(e[4],t,r,n)},p.prototype.renderPartial=function(e,r,n){if(n){var i=t(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i),r,n,i):void 0}},p.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},p.prototype.escapedValue=function(t,r){var n=r.lookup(t[1]);if(null!=n)return e.escape(n)},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var S=new p;return e.clearCache=function(){return S.clearCache()},e.parse=function(e,t){return S.parse(e,t)},e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+r(e)+'" was given as the first argument for mustache#render(template, view, partials)');return S.render(e,t,n)},e.to_html=function(r,n,i,a){var o=e.render(r,n,i);return t(a)?void a(o):o},e.escape=s,e.Scanner=u,e.Context=d,e.Writer=p,e}),l='<div class="Profile{{#class}} {{class}}{{/class}}{{#theme}} {{theme}}{{/theme}}" data-profile="profile"><a href="#" class="Profile-thumbnail" data-profile="thumbnail" style="background-image: url({{user.avatar}});" role="button" aria-haspopup="true" aria-expanded="false" aria-label="{{user.display_name}}{{user.honorific_title}}"{{#tracking}} {{tracking.dataProperty}}="{{tracking.prefix}}{{tracking.avatar}}"{{/tracking}}></a><div class="Profile-dropdown" data-profile="dropdown"><a href="{{endpoint.account}}" class="Profile-header" data-profile="header"><div class="Profile-avatar" data-profile="avatar" style="background-image: url({{user.avatar}});"></div><div class="Profile-data"><p class="Profile-name" data-profile="name">{{user.display_name}}{{user.honorific_title}}</p><p class="Profile-email" data-profile="email" title="{{user.email}}">{{user.email}}</p><span class="Profile-header-cta">{{strings.v}}</span></div></a>{{#behance}}<div class="Profile-applications" data-profile="applications"><ul class="Profile-menu"><li class="Profile-menu-item"><a href="{{behance}}" class="Profile-menu-link"><div class="Profile-icon Profile-menu-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.9 7.8c1.6 0 2.8 0.9 2.8 2.1 0 1-0.8 1.9-1.2 1.8 0.9 0.3 1.6 1.2 1.6 2.2 0 1.1-0.8 2.5-3.1 2.5H5V7.8H8.9zM8.7 11.1c0.6 0 1.1-0.4 1.1-1 0-0.5-0.4-0.9-1.3-0.9H6.8v1.9H8.7zM8.8 14.9c0.7 0.1 1.3-0.3 1.4-1 0.1-0.7-0.3-1.3-1-1.4 -0.1 0-0.3 0-0.4 0h-2v2.4H8.8zM16.4 15.3c0.8 0 1.1-0.3 1.4-0.8h1.5c-0.4 1.3-1.6 2.2-3 2.1 -2.1 0-3.2-1.5-3.2-3.3s1.3-3.4 3.2-3.4 3.1 1.5 3.1 3.6h-4.5C14.9 14.5 15.6 15.3 16.4 15.3zM14.9 12.6h2.8c0-0.8-0.6-1.5-1.3-1.5C15.4 11.1 14.9 11.8 14.9 12.6zM14 7.4v1h4.5v-1H14z"/><path d="M23 22.5H1v-21h22V22.5zM2 21.5h20v-19H2V21.5z"/></svg></div><div class="Profile-menu-text">{{strings.b}}</div></a></li></ul></div>{{/behance}}{{#adminTemplate}}<div class="Profile-content" data-profile="links"><ul class="Profile-menu">{{#user.teamAdmin}}<li class="Profile-menu-item"><a href="{{strings.u}}" class="Profile-menu-link"><div class="Profile-icon Profile-menu-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 13.8v-1.2c0-0.2 0.1-0.4 0.2-0.6 0.9-1.3 1.4-2.8 1.4-4.3 0-3.1-1.5-4.5-3.8-4.5S6 4.6 6 7.6c0 1.6 0.5 3.1 1.4 4.3 0.1 0.2 0.2 0.3 0.2 0.6v1.2c0 0.4-0.3 0.8-0.8 0.9C1.9 15.2 1 18.5 1 19.8v1.1h17.4v-1.1c0-1.3-0.7-4.6-5.6-5.1C12.3 14.6 12 14.2 12 13.8z"/><path d="M17.8 13.5c-0.4-0.1-0.7-0.4-0.7-0.8v-1.1c0-0.2 0.1-0.4 0.2-0.5 0.8-1.1 1.2-2.5 1.2-3.9 0-2.8-1.4-4.1-3.4-4.1 -0.4 0-0.7 0.1-1 0.2 0.9 1.3 1.4 2.8 1.3 4.4 0 1.8-0.6 3.6-1.6 5.2V13c4.5 0.8 6.4 4 6.5 6.1H23V18C23 16.8 22.2 14 17.8 13.5z"/></svg></div><div class="Profile-menu-text">{{strings.t}}</div></a></li>{{/user.teamAdmin}}{{#user.enterpriseAdmin}}<li class="Profile-menu-item"><a href="{{strings.w}}" class="Profile-menu-link"><div class="Profile-icon Profile-menu-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 3v18c0 0.6 0.4 1 1 1h7v-5.5c0-0.3 0.2-0.5 0.5-0.5h3c0.3 0 0.5 0.2 0.5 0.5V22h7c0.6 0 1-0.4 1-1V3c0-0.6-0.4-1-1-1H3C2.4 2 2 2.4 2 3zM8 18H4v-2h4V18zM8 14H4v-2h4V14zM8 10H4V8h4V10zM8 6H4V4h4V6zM14 14h-4v-2h4V14zM14 10h-4V8h4V10zM14 6h-4V4h4V6zM20 18h-4v-2h4V18zM20 14h-4v-2h4V14zM20 10h-4V8h4V10zM20 6h-4V4h4V6z"/></svg></div><div class="Profile-menu-text">{{strings.e}}</div></a></li>{{/user.enterpriseAdmin}}</ul></div>{{/adminTemplate}}<ul class="Profile-menu"><li class="Profile-menu-item"><a href="#" class="Profile-menu-link" data-profile="sign-out"><div class="Profile-icon Profile-menu-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.9 4.4l-0.5 0.8c-0.1 0.2-0.1 0.5 0.2 0.7 3.7 2.5 4.6 7.6 2.1 11.3s-7.6 4.6-11.3 2.1S2.8 11.6 5.3 7.9c0.6-0.8 1.3-1.6 2.1-2.1 0.2-0.1 0.3-0.4 0.2-0.7L7.1 4.4C7 4.1 6.7 4.1 6.4 4.2c0 0 0 0 0 0 -4.6 3.1-5.8 9.3-2.7 13.9s9.3 5.8 13.9 2.7 5.8-9.3 2.7-13.9c-0.7-1.1-1.6-2-2.7-2.7C17.3 4.1 17 4.1 16.9 4.4 16.9 4.4 16.9 4.4 16.9 4.4z"/><path d="M11.5 1.5h1C12.8 1.5 13 1.7 13 2v9c0 0.3-0.2 0.5-0.5 0.5h-1c-0.3 0-0.5-0.2-0.5-0.5V2C11 1.7 11.2 1.5 11.5 1.5z"/></svg></div><div class="Profile-menu-text">{{strings.s}}</div></a></li></ul></div></div>',c=function(e,t,r,n,i,a,o,s,l){var c={data:null,labels:null,locale:void 0,event:new n.Events,ready:{profileLabels:!1,profileData:!1,checked:!1,checkConstraint:function(){this.profileLabels&&this.profileData&&!this.checked&&(this.checked=!0,c.event.dispatchEvent(e.events.data_ready,c.data))}}},f=new a(window.location.search.indexOf(e.strings.debug)>-1),u={};return c.mapProfileData=function(e){var r=window.adobeIMS.getUserProfile(),n=t.getPropertySafely(e,"user.avatar"),i=t.getPropertySafely(e,"sections.manage.items.team.id"),a=t.getPropertySafely(e,"sections.manage.items.enterprise.id"),o=t.getPropertySafely(e,"user.name.id"),s={};return s.id=r.userId,s.first_name=r.first_name,s.last_name=r.last_name,s.display_name=r.displayName,s.name_id=o,s.email=r.email,s.avatar=n,s.teamAdmin=!!i,s.enterpriseAdmin=!!a,s},c.mapProfileLabels=function(e){if(e&&!t.isEmptyObject(e))return e},c.expandProfile=function(){var e=document.querySelector('[data-profile="profile"]'),t=e&&e.querySelector('[data-profile="thumbnail"]');c.checkElementsExist([e,t])&&(e.classList.remove("Profile-hidden"),e.classList.remove("Profile-collapsed"),e.classList.add("Profile-expanded"),t.setAttribute("aria-expanded",!0))},c.collapseProfile=function(){var e=document.querySelector('[data-profile="profile"]'),t=e&&e.querySelector('[data-profile="thumbnail"]');c.checkElementsExist([e,t])&&(e.classList.remove("Profile-expanded"),e.classList.add("Profile-collapsed"),t.setAttribute("aria-expanded",!1))},c.getProfileData=function(){function n(e){c.data=c.mapProfileData(e),c.ready.profileData=!0,c.ready.checkConstraint()}r.get({endpoint:e.endpoints.profile,headers:{Authorization:"Bearer "+window.adobeIMS.getAccessToken()},success:function(t){n(JSON.parse(t)),f.log(e.messages.profile_data,c.data)}.bind(this),error:function(r){n({user:{avatar:e.profile.defaultAvatar}}),f.error(t.formatString(e.messages.request_error,[e.endpoints.profile]))}.bind(this)})},c.getProfileLabels=function(){r.get({endpoint:t.formatString("{0}/{1}/{2}/profile.json",[e.endpoints.locales,window.location.hostname,c.locale]),success:function(r){c.labels=c.mapProfileLabels(JSON.parse(r).p),t.isEmptyObject(c.labels)?(c.ready.profileLabels=!1,f.error(t.formatString(e.messages.request_error,[e.endpoints.locales]))):(f.log(e.messages.profile_labels,c.labels),c.ready.profileLabels=!0,c.ready.checkConstraint())}.bind(this),error:function(r){c.ready.profileLabels=!1,f.error(t.formatString(e.messages.request_error,[e.endpoints.locales]))}.bind(this)})},c.checkProfileData=function(r){var n,i=e.profile.requiredProperties,a=i.length;if(!r)return!1;for(n=0;n<a;n++)if(!t.getPropertySafely(r,i[n]))return f.warn(t.formatString(e.messages.profile_data_missing,[i[n]])),!1;return!0},c.checkElementsExist=function(e){var t,r;if(!(e instanceof Array&&e.length>0))return!1;for(r=e.length,t=0;t<r;t++)if(!(e[t]instanceof HTMLElement))return!1;return!0},c.buildProfile=function(r){var n,i=r.target,a={user:c.data,strings:c.labels,class:r.class,theme:r.theme,behance:r.behanceProfile,tracking:r.tracking,endpoint:{account:c.accountURL,profile:c.accountProfileURL}};a.adminTemplate=t.getPropertySafely(a,"user.teamAdmin")||t.getPropertySafely(a,"user.enterpriseAdmin"),"undefined"!=typeof t.getPropertySafely(a,"user.name_id")&&c.labels.h&&(a.user.honorific_title=" "+c.labels.h),f.log(e.messages.build_profile),f.log(t.formatString(e.messages.locale,[c.locale])),f.log(t.formatString(e.messages.custom_theme,[!!r.theme&&r.theme])),f.log(t.formatString(e.messages.custom_class,[!!r.class&&r.class])),f.log(t.formatString(e.messages.custom_behance,[!!r.behanceProfile])),i.insertAdjacentHTML("afterend",s.render(l,a)),i.parentNode.removeChild(i),c.formatData(),c.setEvents(),n=document.querySelector('[data-profile="profile"]'),n instanceof HTMLElement&&n.classList.add("Profile-hidden"),c.event.dispatchEvent(e.events.profile_ready)},c.setEvents=function(){var t=document.querySelector('[data-profile="profile"]'),r=t&&t.querySelector('[data-profile="dropdown"]'),i=t&&t.querySelector('[data-profile="thumbnail"]'),a=t&&t.querySelector('[data-profile="header"]'),o=t&&t.querySelector('[data-profile="sign-out"]');c.checkElementsExist([t,r,i,a,o])&&(f.log(e.messages.build_events),document.addEventListener("click",function(e){n.closest(e.target,'[data-profile="profile"]')||c.collapseProfile()}),r.addEventListener("animationend",function(e){t.classList.contains("Profile-collapsed")&&t.classList.add("Profile-hidden")}),i.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("Profile-expanded")?c.collapseProfile():c.expandProfile()}),i.addEventListener("keydown",function(e){32===e.keyCode&&(e.preventDefault(),i.click())}),t.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),c.collapseProfile())}),a.addEventListener("click",function(e){"avatar"===e.target.getAttribute("data-profile")&&(e.preventDefault(),window.location=c.accountProfileURL)}),o.addEventListener("click",function(t){t.preventDefault(),c.event.dispatchEvent(e.events.sign_out),window.adobeIMS.signOut()}))},c.formatData=function(){var r,n,a,o,s,l,u,d=document.querySelector('[data-profile="profile"]'),p=d&&d.querySelector('[data-profile="email"]'),h=d&&d.querySelector('[data-profile="name"]');c.checkElementsExist([d,p,h])&&(r=p.textContent.trim(),a=h.textContent.trim(),n=i.getElementProperties(p,["width","font-family","font-size","font-weight"]),o=i.getElementProperties(h,["width","font-family","font-size","font-weight"]),i.measure(r,n)>parseFloat(n.width)&&(u=r.split("@"),s=u[0],l=u[1],f.log(t.formatString(e.messages.format_email,[r,i.truncateEmail(s,l,n)])),p.textContent=i.truncateEmail(s,l,n)),i.measure(a,o)>parseFloat(o.width)?(f.log(t.formatString(e.messages.format_name,[a])),h.classList.add("Profile-name_long")):h.classList.remove("Profile-name_long"))},c.exportEvents=function(){u.events=e.events},u.init=function(r){var n,i;return!r||t.isEmptyObject(r)?void f.error(e.messages.no_config):r.target&&r.target instanceof HTMLElement?(c.accountURL=t.getPropertySafely(r,"accountURL")||e.endpoints.account,c.accountProfileURL=t.getPropertySafely(r,"accountProfileURL")||e.endpoints.accountProfile,r.locale&&o.isMatch(r.locale)||(r.locale=o.getDefault()),c.locale=r.locale,n=r.data||c.data,i=c.mapProfileLabels(r.labels)||c.labels,c.checkProfileData(n)?(f.log(t.formatString(e.messages.request_data,[r.data?e.messages.config:e.messages.storage])),c.data=n,f.log(e.messages.profile_data,c.data),setTimeout(function(){c.ready.profileData=!0,c.ready.checkConstraint()},0)):(f.log(t.formatString(e.messages.request_data,[e.endpoints.profile])),c.getProfileData()),i&&!t.isEmptyObject(i)?(f.log(t.formatString(e.messages.request_data,[r.data?e.messages.config:e.messages.storage])),c.labels=i,f.log(e.messages.profile_labels,c.labels),setTimeout(function(){c.ready.profileLabels=!0,c.ready.checkConstraint()},0)):(f.log(t.formatString(e.messages.request_data,[e.endpoints.locales])),c.getProfileLabels()),this.addEventListener(e.events.data_ready,function(){c.buildProfile(r)}),c.exportEvents(),void delete this.init):void f.error(e.messages.no_target)},u.addEventListener=function(e,t){c.event.addEventListener(e,t)},u.getUserProfile=function(){return f.log(e.messages.profile_data,c.data),c.data},u.expand=function(){c.expandProfile()},u.collapse=function(){c.collapseProfile()},u}(e,t,r,n,i,a,o,s,l),window.adobeProfile=c}();